grafana:
  $type: namespace

  enabled:
    $type: boolean
    $default: True

  admin_user:
    $type: text
    $name: Default admin user
    $required: true
    $disabled: "!grafana.enabled"
    
  admin_pass:
    $type: password
    $name: Default admin password  
    $required: true
    $disabled: "!grafana.enabled"

  datasources:
    $type: group
    $disabled: "!grafana.enabled"

    prometheus:
      $type: edit-group
      $minItems: 1
      $name: Prometheus
      $itemName: Prometheous data source ${i}
      $prototype:
        $type: group
        $disabled: "!grafana.enabled"
        $key:
          $type: text
          $name: Name
          $default: Prometheus
        url:
          $type: text
          $default: http://localhost:9080
          $required: true

  dashboards:
    $type: group
    $disabled: "!grafana.enabled"

    add_uyuni_dashboards:
      $type: boolean
      $name: Add Uyuni dashboards
      $default: True

    add_node_dashboad:
      $type: boolean
      $name: Add node_exporter dashboard
      $default: True